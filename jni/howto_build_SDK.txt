# howto_build_SDK.txt
# https://android.googlesource.com/platform/sdk/+/master/docs/howto_build_SDK.txt

# export HTTP_PROXY=xxx.xxx.xxx.xxx:xxxx
# export HTTPS_PROXY=xxx.xxx.xxx.xxx:xxxx

# sudo cp ./ca-bundle.crt /etc/ssl/certs/ca-certificates.crt

// Source sync
# export SSL_CERT_FILE=./ca-bundle.crt

mkdir aosp-platform-tools-35.0.2
cd aosp-platform-tools-35.0.2
repo init --depth=1 -u https://android.googlesource.com/platform/manifest -b platform-tools-35.0.2 -g all,-notdefault,tools 
repo sync -c -j8

cd frameworks/base
git remote add spectrum https://github.com/apk-spectrum/platform_frameworks_base.git
git fetch --depth 10 spectrum spectrum-tools-35.0.2
git checkout spectrum-tools-35.0.2
export BUILD_NUMBER=`git rev-parse --abbrev-ref HEAD`-`git rev-parse --short=10 HEAD`-`date +%Y%m%d`
cd ../..

// Build
. build/envsetup.sh
lunch sdk-aosp_current-user

// SDK build
# make -j10 sdk | tee build.log
# make -j10 win_sdk | tee build.log
# make -j10 winsdk-tools | tee build.log

// Module build (mmm or mmma)
# mmm frameworks/base/tools/aapt/
mmma frameworks/base/tools/aapt/


// Need JDK8...
# sudo apt-get clean
# sudo apt-get update
# sudo apt-get install openjdk-8-jdk
# sudo update-alternatives --config java
# sudo update-alternatives --config javac
# sudo update-alternatives --config jar
# sudo update-alternatives --config javadoc
